var c=[{name:"\u521D\u671F\u30C7\u30FC\u30BF\uFF08\u9BD6\u6C5F\u5E02\uFF09",coordinate:{x:136.18,y:35.94,h:100,w:150,angle:0},decade:{lte:2e3,gt:1990},content:{text:"\u897F\u5C71\u516C\u5712\u306E\u3064\u3064\u3058\u306E\u5199\u771F\u3067\u3059\u3002",photos:["nishiyama_park.jpg"]},thread:[],created_at:"2025-05-15T10:00:00Z"}];var l=async t=>{console.log("\u3010MOCK\u3011\u4EE5\u4E0B\u306E\u30C7\u30FC\u30BF\u3092\u30B5\u30FC\u30D0\u30FC\u306B\u9001\u4FE1\u3057\u307E\u3057\u305F:",t),c.push(t);let e=new Response(JSON.stringify({message:"Upload successful"}),{status:200,statusText:"OK",headers:{"Content-Type":"application/json"}});return Promise.resolve(e)},d=async t=>{console.log("\u3010MOCK\u3011\u4EE5\u4E0B\u306E\u30D1\u30E9\u30E1\u30FC\u30BF\u3067\u30C7\u30FC\u30BF\u3092\u691C\u7D22\u3057\u307E\u3057\u305F:",t);let e=c.filter(s=>new Date(s.created_at).getFullYear()<=t.year),n=JSON.stringify(e,null,2);return e};var g=document.getElementById("post-form"),I=document.getElementById("query-form"),u=document.getElementById("post-result"),m=document.getElementById("query-result"),a=new Date;a.setMinutes(a.getMinutes()-a.getTimezoneOffset());document.getElementById("created_at").value=a.toISOString().slice(0,16);g.addEventListener("submit",async t=>{t.preventDefault();let e=document.getElementById("decade_lte").value,n=document.getElementById("decade_gt").value,s;e&&n&&(s={lte:parseInt(e,10),gt:parseInt(n,10)});let r=document.getElementById("content_photos").value,y=r?r.split(",").map(o=>o.trim()):[],i={name:document.getElementById("name").value,coordinate:{x:parseFloat(document.getElementById("coord_x").value),y:parseFloat(document.getElementById("coord_y").value),h:0,w:0,angle:0},decade:s,content:{text:document.getElementById("content_text").value,photos:y},thread:[],created_at:new Date(document.getElementById("created_at").value).toISOString()};try{let o=await l(i),p=await o.json();u.textContent=`\u30B9\u30C6\u30FC\u30BF\u30B9: ${o.status}

${JSON.stringify(p,null,2)}`}catch(o){u.textContent=`\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F: ${o}`}});I.addEventListener("submit",async t=>{t.preventDefault();let e={year:parseInt(document.getElementById("year").value,10),x:0,y:0,x2:0,y2:0};try{let n=await d(e);m.textContent=JSON.stringify(n,null,2)}catch(n){m.textContent=`\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F: ${n}`}});
